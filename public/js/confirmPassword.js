'use strict';

angular.module('capstone').directive('confirmPassword', function () {
  return {
    require: 'ngModel',
    link: function link(scope, elem, attrs, ctrl) {
      var otherInput = elem.inheritedData("$formController")[attrs.confirmPassword];

      ctrl.$parsers.push(function (value) {
        if (value === otherInput.$viewValue) {
          ctrl.$setValidity('repeat', true);
          return value;
        }
        ctrl.$setValidity('repeat', false);
      });

      otherInput.$parsers.push(function (value) {
        ctrl.$setValidity('repeat', value === ctrl.$viewValue);
        return value;
      });
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qcy9jb25maXJtUGFzc3dvcmQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUV4QixTQUFTLENBQUMsaUJBQWlCLEVBQUUsWUFBWTtBQUN6QyxTQUFPO0FBQ0QsV0FBTyxFQUFFLFNBQVM7QUFDbEIsUUFBSSxFQUFFLGNBQVMsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFO0FBQ3ZDLFVBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7O0FBRTlFLFVBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVMsS0FBSyxFQUFFO0FBQ2hDLFlBQUksS0FBSyxLQUFLLFVBQVUsQ0FBQyxVQUFVLEVBQUU7QUFDbkMsY0FBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDbEMsaUJBQU8sS0FBSyxDQUFDO1NBQ2Y7QUFDRCxZQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztPQUNwQyxDQUFDLENBQUM7O0FBRUgsZ0JBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVMsS0FBSyxFQUFFO0FBQ3RDLFlBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFLEtBQUssS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDdkQsZUFBTyxLQUFLLENBQUM7T0FDZixDQUFDLENBQUM7S0FDTDtHQUNELENBQUM7Q0FDTixDQUFDLENBQUMiLCJmaWxlIjoiY29uZmlybVBhc3N3b3JkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2NhcHN0b25lJylcblxuXHQuZGlyZWN0aXZlKCdjb25maXJtUGFzc3dvcmQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHtcbiAgICAgIFx0XHRyZXF1aXJlOiAnbmdNb2RlbCcsXG4gICAgICBcdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzLCBjdHJsKSB7XG4gICAgICAgIFx0XHR2YXIgb3RoZXJJbnB1dCA9IGVsZW0uaW5oZXJpdGVkRGF0YShcIiRmb3JtQ29udHJvbGxlclwiKVthdHRycy5jb25maXJtUGFzc3dvcmRdO1xuXG4gICAgICAgIFx0XHRjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBcdFx0XHRpZiAodmFsdWUgPT09IG90aGVySW5wdXQuJHZpZXdWYWx1ZSkge1xuICAgICAgICAgICAgXHRcdFx0Y3RybC4kc2V0VmFsaWRpdHkoJ3JlcGVhdCcsIHRydWUpO1xuICAgICAgICAgICAgXHRcdFx0cmV0dXJuIHZhbHVlO1xuICAgICAgICAgIFx0XHR9XG4gICAgICAgICAgXHRcdGN0cmwuJHNldFZhbGlkaXR5KCdyZXBlYXQnLCBmYWxzZSk7XG4gICAgICAgIFx0XHR9KTtcblxuICAgICAgICBcdFx0b3RoZXJJbnB1dC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICBcdFx0Y3RybC4kc2V0VmFsaWRpdHkoJ3JlcGVhdCcsIHZhbHVlID09PSBjdHJsLiR2aWV3VmFsdWUpO1xuXHQgICAgICAgICAgXHRcdHJldHVybiB2YWx1ZTtcbiAgICAgICAgXHRcdH0pO1xuICAgICBcdFx0fVxuICAgICBcdH07XG5cdH0pOyJdfQ==
